<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Document</title>
        <script src="../dist/avalon.js"></script>
    </head>
    <body :controller="test">
        <script>
            avalon.component('ms-button', {
                template: '<button>{{@spantxt}}</button>',
                defaults: {
                    spantxt: "按钮测试",
                    onReady: function () {
                        this.$watch('spantxt', function (v) {
                            console.log(v);
                        })
                    }
                }
            });

            var vm = avalon.define({
                $id: 'test',
                spantxt: "change2",
                conf: {
                    is: 'ms-button',
                    id: 't2',
                    spantxt: '测试'
                }
            });
            setTimeout(function () {
                vm.spantxt = "change-->改变";
                vm.conf.spantxt = "测试-->test";
            }, 5000)
        </script>
        <!-- 这种写法监听不到属性变化 -->
    <xmp :widget="{is:'ms-button',id:'t1',spantxt:@spantxt}"></xmp>
    <!-- 这种写法id不生效 -->
    <xmp :widget="@conf"></xmp>
</body>
</html>
